name: Build
on: [push]
jobs:
 build-tailwind:
   runs-on: ubuntu-latest
   steps:
     - name: Checkout
       uses: actions/checkout@v4
     - name: Setup Node.js
       uses: actions/setup-node@v4
       with:
         node-version: '16'
     - name: Install npm dependencies
       run: npm install
     - name: Build Tailwind CSS
       run: npm run build:css

 deploy-to-impaas:
   needs: build-tailwind
   runs-on: ubuntu-latest
   steps:
     - name: Checkout
       uses: actions/checkout@v4
     - name: ImPaaS-Deploy
       uses: /impaas/impaas-deploy@v3
       with:
         app-name: mystro
         deployment-token: ${{ secrets.IMPAAS_DEPLOY_TOKEN }}
         method: PLATFORM