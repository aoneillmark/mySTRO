{% extends "base.html" %}

{% block title %}Select a Composer{% endblock %}

{% block content %}
<body class="bg-linen p-10">
    <main class="mt-10 max-w-5xl mx-auto">
        <h2 class="text-3xl text-center mb-8">Welcome to MySTRO</h2>

        <form action="/search" method="POST" class="mx-auto max-w-2xl">
            <div class="mb-6">
                <label for="namefield" class="block text-lg mb-2">Name:</label>
                <input type="text" 
                       id="namefield" 
                       name="name" 
                       placeholder="Enter your name"
                       class="w-full p-2 border rounded"
                       required>
            </div>

            <div class="mb-6">
                <label for="composer_id" class="block text-lg mb-2">Choose Composers:</label>
                <select id="composer_id" 
                        name="composer_id" 
                        multiple
                        class="w-full p-2 border rounded"
                        style="height: 200px; background-color: white;"
                        required>
                    {% for composer in composers %}
                        <option value="{{ composer['id'] }}">{{ composer['name'] }} ({{ composer['epoch'] }})</option>
                    {% endfor %}
                </select>
                <p class="text-sm text-gray-600 mt-1">Hold Ctrl/Cmd to select multiple composers</p>
            </div>

            <div class="mb-6">
                <label for="genres" class="block text-lg mb-2">Choose Genres:</label>
                <select id="genres" 
                        name="genres" 
                        multiple
                        class="w-full p-2 border rounded"
                        style="height: 200px; background-color: white;"
                        required>
                    {% for genre in genres %}
                        <option value="{{ genre }}" class="p-2">{{ genre }}</option>
                    {% endfor %}
                </select>
                <p class="text-sm text-gray-600 mt-1">Hold Ctrl/Cmd to select multiple genres</p>
            </div>

            <button type="submit"
                class="bg-penn-red text-white py-2 px-4 rounded hover:bg-dark-purple">
                Submit
            </button>
        </form>
    </main>
</body>

<style>
    /* Custom styles for both multi-selects */
    select[multiple] {
        overflow-y: auto;
    }

    select[multiple] option {
        padding: 8px;
    }

    select[multiple] option:checked {
        background-color: #FFDAB9;
        color: #8B4513;
    }

    select[multiple] option:hover {
        background-color: #FFF5E6;
    }
</style>
{% endblock %}