{% extends "base.html" %}

{% block title %}Select a Composer{% endblock %}

{% block content %}
<body class="bg-linen p-10">
    <main class="mt-10 mx-auto" style="max-width: 800px;">
        <h2 class="text-3xl text-center mb-8">Welcome to MySTRO</h2>

        <form action="/search" method="POST" class="mx-auto">
            <div class="mb-6">
                <label for="namefield" class="block text-lg mb-2" style="color: #333;">Name:</label>
                <input type="text" 
                       id="namefield" 
                       name="name" 
                       placeholder="Enter your name"
                       class="w-full p-2 rounded"
                       style="border: 1px solid #D2691E; background-color: white;"
                       required>
            </div>

            <div class="mb-6">
                <label for="composer_id" class="block text-lg mb-2" style="color: #333;">Choose Composers:</label>
                <select id="composer_id" 
                        name="composer_id" 
                        multiple
                        class="w-full p-2 rounded"
                        style="border: 1px solid #D2691E; height: 200px; background-color: white;"
                        required>
                    {% for composer in composers %}
                        <option value="{{ composer['id'] }}" class="py-1">{{ composer['name'] }} ({{ composer['epoch'] }})</option>
                    {% endfor %}
                </select>
                <p class="text-sm mt-1" style="color: #666;">Hold Ctrl/Cmd to select multiple composers</p>
            </div>

            <div class="mb-6">
                <label for="genres" class="block text-lg mb-2" style="color: #333;">Choose Genres:</label>
                <select id="genres" 
                        name="genres" 
                        multiple
                        class="w-full p-2 rounded"
                        style="border: 1px solid #D2691E; height: 200px; background-color: white;"
                        required>
                    {% for genre in genres %}
                        <option value="{{ genre }}" class="py-1">{{ genre }}</option>
                    {% endfor %}
                </select>
                <p class="text-sm mt-1" style="color: #666;">Hold Ctrl/Cmd to select multiple genres</p>
            </div>

            <button type="submit"
                class="w-full py-3 px-4 rounded text-white font-bold"
                style="background-color: #8B4513; transition: background-color 0.2s ease;">
                Submit
            </button>
        </form>
    </main>

    <style>
        /* Custom styles for multi-selects */
        select[multiple] {
            overflow-y: auto;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }

        select[multiple] option {
            padding: 8px 12px;
            margin: 2px 0;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        select[multiple] option:checked {
            background-color: #FFDAB9 !important;
            color: #8B4513;
        }

        select[multiple] option:hover {
            background-color: #FFF5E6;
        }

        /* Scrollbar styling */
        select[multiple]::-webkit-scrollbar {
            width: 8px;
        }

        select[multiple]::-webkit-scrollbar-track {
            background: #FFF5E6;
            border-radius: 4px;
        }

        select[multiple]::-webkit-scrollbar-thumb {
            background: #D2691E;
            border-radius: 4px;
        }

        select[multiple]::-webkit-scrollbar-thumb:hover {
            background: #8B4513;
        }

        /* Form element focus states */
        input:focus, select:focus {
            outline: none;
            border-color: #8B4513;
            box-shadow: 0 0 0 2px rgba(139, 69, 19, 0.2);
        }

        /* Submit button hover state */
        button[type="submit"]:hover {
            background-color: #D2691E;
            cursor: pointer;
        }
    </style>
</body>
{% endblock %}