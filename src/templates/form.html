{% extends "base.html" %}

{% block title %}Select a Composer{% endblock %}

{% block content %}
<body class="bg-linen p-10">
    <header class="flex justify-between items-center bg-pumpkin text-white py-4 px-6">
        <h1 class="text-3xl font-bold">MySTRO</h1>
        <a href="/library" class="bg-dark-purple text-white px-4 py-2 rounded hover:bg-penn-red">Go to Library</a>
    </header>

    <main class="mt-10 max-w-5xl mx-auto">
        <div class="bg-white p-8 rounded-lg w-full max-w-4xl border border-battleship-gray mx-auto">
            <h2 class="text-3xl font-bold text-center text-dark-purple mb-8">Welcome to MySTRO</h2>

            <form action="/search" method="POST">
                <div class="mb-6">
                    <label for="namefield" class="block text-lg mb-2">Name:</label>
                    <input type="text" 
                           id="namefield" 
                           name="name" 
                           placeholder="Enter your name"
                           class="w-full sm:w-1/3 p-2 border rounded"
                           required>
                </div>

                <div class="mb-6">
                    <label for="composer_id" class="block text-lg mb-2">Choose a Composer:</label>
                    <select id="composer_id" 
                            name="composer_id"
                            class="w-full sm:w-1/3 p-2 border rounded"
                            required>
                        <option value="" disabled selected>Select a composer</option>
                        {% for composer in composers %}
                            <option value="{{ composer['id'] }}">{{ composer['name'] }} ({{ composer['epoch'] }})</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="mb-6">
                    <label for="genres" class="block text-lg mb-2">Choose Genres:</label>
                    <select id="genres" 
                            name="genres" 
                            multiple
                            class="w-96 p-2 border rounded"
                            style="height: 200px; background-color: white;"
                            required>
                        {% for genre in genres %}
                            <option value="{{ genre }}" class="p-2">{{ genre }}</option>
                        {% endfor %}
                    </select>
                    <p class="text-sm text-gray-600 mt-1">Hold Ctrl/Cmd to select multiple genres</p>
                </div>

                <button type="submit"
                    class="bg-penn-red text-white py-2 px-4 rounded hover:bg-dark-purple">
                    Submit
                </button>
            </form>
        </div>
    </main>
</body>

<style>
    /* Custom styles for the multi-select */
    select[multiple] {
        overflow-y: auto;
    }

    select[multiple] option {
        padding: 8px;
    }

    select[multiple] option:checked {
        background-color: #FFDAB9;
        color: #8B4513;
    }

    select[multiple] option:hover {
        background-color: #FFF5E6;
    }
</style>
{% endblock %}